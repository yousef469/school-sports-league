<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Sports League</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ†</text></svg>">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loader">
            <div class="loader-icon">ğŸ†</div>
            <div class="loader-text">School Sports League</div>
            <div class="loader-bar"><div class="loader-progress"></div></div>
        </div>
    </div>

    <div class="app" style="display:none;">
        <!-- Header -->
        <header class="main-header">
            <div class="header-left">
                <div class="logo">ğŸ† School Sports League</div>
                <nav class="main-nav">
                    <button class="main-nav-btn active" onclick="showSection('matches')">âš½ Matches</button>
                    <button class="main-nav-btn" onclick="showSection('table')">ğŸ“Š Table</button>
                    <button class="main-nav-btn" onclick="showSection('teams')">ğŸ‘¥ Teams</button>
                </nav>
            </div>
            <nav class="header-nav">
                <button class="nav-btn join-btn" onclick="showPage('joinPage')">ğŸ“ Join</button>
                <button class="nav-btn admin-btn" onclick="showPage('adminLogin')">ğŸ” Admin</button>
            </nav>
        </header>

        <!-- Home Page -->
        <div id="homePage" class="page active">
            <!-- Matches Section -->
            <div id="matchesSection" class="main-section active">
                <div class="filter-bar">
                    <div class="sport-pills">
                        <button class="sport-pill active" onclick="filterSport('all')">ğŸŒŸ All</button>
                        <button class="sport-pill" onclick="filterSport('football')">âš½ Football</button>
                        <button class="sport-pill" onclick="filterSport('volleyball')">ğŸ Volleyball</button>
                    </div>
                    <div class="status-filters">
                        <button class="status-btn active" onclick="filterStatus('all')">All</button>
                        <button class="status-btn live" onclick="filterStatus('live')">ğŸ”´ Live</button>
                        <button class="status-btn" onclick="filterStatus('upcoming')">ğŸ“… Upcoming</button>
                        <button class="status-btn" onclick="filterStatus('ended')">âœ… Ended</button>
                    </div>
                </div>
                <div id="matchesList" class="matches-list"></div>
            </div>

            <!-- Teams Section -->
            <div id="teamsSection" class="main-section">
                <div class="teams-header">
                    <button class="teams-sport-btn active" data-sport="football" onclick="switchTeamsSport('football')">âš½ Football Teams</button>
                    <button class="teams-sport-btn" data-sport="volleyball" onclick="switchTeamsSport('volleyball')">ğŸ Volleyball Teams</button>
                </div>
                <div id="teamsListView" class="teams-grid-view"></div>
            </div>

            <!-- Table Section -->
            <div id="tableSection" class="main-section">
                <div class="table-header">
                    <button class="table-sport-btn active" data-sport="football" onclick="switchTableSport('football')">âš½ Football</button>
                    <button class="table-sport-btn" data-sport="volleyball" onclick="switchTableSport('volleyball')">ğŸ Volleyball</button>
                </div>
                <div class="bracket-container">
                    <div id="bracketView" class="world-cup-bracket"></div>
                </div>
            </div>
        </div>

        <!-- Join Page -->
        <div id="joinPage" class="page">
            <button class="back-btn" onclick="showPage('homePage')">â† Back</button>
            <div class="container">
                <div class="card gradient-card">
                    <h2>ğŸ“ Register Your Team</h2>
                    <form id="teamForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Captain Name</label>
                                <input type="text" id="captainName" required placeholder="Your name">
                            </div>
                            <div class="form-group">
                                <label>Team Name</label>
                                <input type="text" id="teamName" required placeholder="Team name">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Grade</label>
                                <select id="grade" required>
                                    <option value="">Select</option>
                                    <option value="10">Grade 10</option>
                                    <option value="11">Grade 11</option>
                                    <option value="12">Grade 12</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Sport</label>
                                <select id="sport" required>
                                    <option value="">Select</option>
                                    <option value="football">âš½ Football (8 players)</option>
                                    <option value="volleyball">ğŸ Volleyball (5 players)</option>
                                </select>
                            </div>
                        </div>
                        <div id="teammatesSection" class="teammates-section" style="display:none;">
                            <h3>ğŸ‘¥ Teammates</h3>
                            <p class="hint" id="teammatesHint"></p>
                            <div id="teammatesInputs" class="teammates-grid"></div>
                        </div>
                        <div class="form-group" id="passwordSection" style="display:none;">
                            <label>Team Password</label>
                            <input type="password" id="teamPassword" placeholder="Create password">
                            <div class="warning-box">âš ï¸ DON'T SHARE OR YOU'LL BE ELIMINATED!</div>
                        </div>
                        <button type="submit" class="btn btn-primary btn-full" id="submitBtn" style="display:none;">ğŸš€ Create Team</button>
                    </form>
                    <div id="createMessage" class="message"></div>
                </div>
            </div>
        </div>

        <!-- Admin Login -->
        <div id="adminLogin" class="page">
            <button class="back-btn" onclick="showPage('homePage')">â† Back</button>
            <div class="container small">
                <div class="card gradient-card">
                    <h2>ğŸ” Admin Login</h2>
                    <div class="form-group">
                        <input type="password" id="adminPassword" placeholder="Password">
                    </div>
                    <button class="btn btn-primary btn-full" onclick="adminLogin()">Login</button>
                    <div id="adminMessage" class="message"></div>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="adminPanel" class="page">
            <nav class="admin-nav">
                <button class="back-btn" onclick="showPage('homePage')">â† Exit</button>
                <h2>ğŸ” Admin Panel</h2>
            </nav>
            <div class="admin-content">
                <div class="admin-tabs">
                    <button class="tab-btn active" onclick="showAdminTab('teams')">ğŸ“‹ Teams</button>
                    <button class="tab-btn" onclick="showAdminTab('draw')">ğŸ± Draw</button>
                    <button class="tab-btn" onclick="showAdminTab('matches')">âš½ Matches</button>
                    <button class="tab-btn" onclick="showAdminTab('champion')">ğŸ† Champion</button>
                </div>
                <div id="adminTeams" class="admin-tab active">
                    <div class="sport-filter">
                        <button class="filter-btn active" onclick="filterAdminTeams('all')">All</button>
                        <button class="filter-btn" onclick="filterAdminTeams('football')">Football</button>
                        <button class="filter-btn" onclick="filterAdminTeams('volleyball')">Volleyball</button>
                    </div>
                    <div id="adminTeamsList" class="teams-list"></div>
                </div>
                <div id="adminDraw" class="admin-tab">
                    <div class="draw-section">
                        <h3>âš½ Football</h3>
                        <p id="footballDrawStatus"></p>
                        <button class="btn btn-primary" onclick="performDraw('football')">ğŸ² Draw</button>
                    </div>
                    <div class="draw-section">
                        <h3>ğŸ Volleyball</h3>
                        <p id="volleyballDrawStatus"></p>
                        <button class="btn btn-primary" onclick="performDraw('volleyball')">ğŸ² Draw</button>
                    </div>
                </div>
                <div id="adminMatches" class="admin-tab">
                    <div class="sport-filter">
                        <button class="filter-btn active" onclick="filterMatches('football')">Football</button>
                        <button class="filter-btn" onclick="filterMatches('volleyball')">Volleyball</button>
                    </div>
                    <div id="adminMatchesList" class="matches-list-admin"></div>
                </div>
                <div id="adminChampion" class="admin-tab">
                    <div class="champion-section">
                        <h4>âš½ Football Champion</h4>
                        <select id="footballChampion"></select>
                        <button class="btn btn-small" onclick="setChampion('football')">Set</button>
                    </div>
                    <div class="champion-section">
                        <h4>ğŸ Volleyball Champion</h4>
                        <select id="volleyballChampion"></select>
                        <button class="btn btn-small" onclick="setChampion('volleyball')">Set</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Match Modal -->
        <div id="matchModal" class="modal">
            <div class="modal-content">
                <button class="modal-close" onclick="closeModal()">Ã—</button>
                <div id="matchModalContent"></div>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>